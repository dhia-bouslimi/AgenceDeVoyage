{% extends 'base2.html.twig' %}

{% block home %}

    <!-- Home -->
    <div class="home">

        <!-- Home Slider -->

        <div class="home_slider_container">

            <div class="owl-carousel owl-theme home_slider">

                <!-- Slider Item -->
                <div class="owl-item home_slider_item">
                    <!-- Image by https://unsplash.com/@anikindimitry -->
                    <div class="home_slider_background" style="background-image:url(images/home_slider.jpg)"></div>

                    <div class="home_slider_content text-center">
                        <div class="home_slider_content_inner" data-animation-in="flipInX" data-animation-out="animate-out fadeOut">
                            <h1>discover</h1>
                            <h1>the world</h1>
                            <div class="button home_slider_button"><div class="button_bcg"></div><a href="#">explore now<span></span><span></span><span></span></a></div>
                        </div>
                    </div>
                </div>

                <!-- Slider Item -->
                <div class="owl-item home_slider_item">
                    <div class="home_slider_background" style="background-image:url(images/home_slider.jpg)"></div>

                    <div class="home_slider_content text-center">
                        <div class="home_slider_content_inner" data-animation-in="flipInX" data-animation-out="animate-out fadeOut">
                            <h1>discover</h1>
                            <h1>the world</h1>
                            <div class="button home_slider_button"><div class="button_bcg"></div><a href="#">explore now<span></span><span></span><span></span></a></div>
                        </div>
                    </div>
                </div>

                <!-- Slider Item -->
                <div class="owl-item home_slider_item">
                    <div class="home_slider_background" style="background-image:url(images/home_slider.jpg)"></div>

                    <div class="home_slider_content text-center">
                        <div class="home_slider_content_inner" data-animation-in="flipInX" data-animation-out="animate-out fadeOut">
                            <h1>discover</h1>
                            <h1>the world</h1>
                            <div class="button home_slider_button"><div class="button_bcg"></div><a href="#">explore now<span></span><span></span><span></span></a></div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Home Slider Nav - Prev -->
            <div class="home_slider_nav home_slider_prev">
                <svg version="1.1" id="Layer_2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                     width="28px" height="33px" viewBox="0 0 28 33" enable-background="new 0 0 28 33" xml:space="preserve">
            <defs>
                <linearGradient id='home_grad_prev'>
                    <stop offset='0%' stop-color='#fa9e1b'/>
                    <stop offset='100%' stop-color='#8d4fff'/>
                </linearGradient>
            </defs>
                    <path class="nav_path" fill="#F3F6F9" d="M19,0H9C4.029,0,0,4.029,0,9v15c0,4.971,4.029,9,9,9h10c4.97,0,9-4.029,9-9V9C28,4.029,23.97,0,19,0z
            M26,23.091C26,27.459,22.545,31,18.285,31H9.714C5.454,31,2,27.459,2,23.091V9.909C2,5.541,5.454,2,9.714,2h8.571
            C22.545,2,26,5.541,26,9.909V23.091z"/>
                    <polygon class="nav_arrow" fill="#F3F6F9" points="15.044,22.222 16.377,20.888 12.374,16.885 16.377,12.882 15.044,11.55 9.708,16.885 11.04,18.219
            11.042,18.219 "/>
         </svg>
            </div>

            <!-- Home Slider Nav - Next -->
            <div class="home_slider_nav home_slider_next">
                <svg version="1.1" id="Layer_3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                     width="28px" height="33px" viewBox="0 0 28 33" enable-background="new 0 0 28 33" xml:space="preserve">
            <defs>
                <linearGradient id='home_grad_next'>
                    <stop offset='0%' stop-color='#fa9e1b'/>
                    <stop offset='100%' stop-color='#8d4fff'/>
                </linearGradient>
            </defs>
                    <path class="nav_path" fill="#F3F6F9" d="M19,0H9C4.029,0,0,4.029,0,9v15c0,4.971,4.029,9,9,9h10c4.97,0,9-4.029,9-9V9C28,4.029,23.97,0,19,0z
         M26,23.091C26,27.459,22.545,31,18.285,31H9.714C5.454,31,2,27.459,2,23.091V9.909C2,5.541,5.454,2,9.714,2h8.571
         C22.545,2,26,5.541,26,9.909V23.091z"/>
                    <polygon class="nav_arrow" fill="#F3F6F9" points="13.044,11.551 11.71,12.885 15.714,16.888 11.71,20.891 13.044,22.224 18.379,16.888 17.048,15.554
         17.046,15.554 "/>
         </svg>
            </div>

            <!-- Home Slider Dots -->

            <div class="home_slider_dots">
                <ul id="home_slider_custom_dots" class="home_slider_custom_dots">
                    <li class="home_slider_custom_dot active"><div></div>01.</li>
                    <li class="home_slider_custom_dot"><div></div>02.</li>
                    <li class="home_slider_custom_dot"><div></div>03.</li>
                </ul>
            </div>

        </div>

    </div>

    <!-- Search -->

    <div class="search">


        <!-- Search Contents -->


        <div class="container fill_height">

            <div class="row fill_height">

                <div class="col fill_height">

                    <!-- Search Tabs -->
                    <section>

                        <div class="album py-5 bg-light">
                            <div class="container">
                                <div class="sidebar-search" >
                                    <div class="input-group custom-search-form">
                                        <input    type="text" id="search" class="form-control widget_input" placeholder="Chercher..." style="width: 1180px;background: wheat">
                                    </div>
                                    <br>
                                    <!-- /input-group -->
                                    <ul class="nav" id="side-menu">
                                        <li>
                                            <a href="#"> <span class="fa arrow"></span></a>
                                            <ul class="nav nav-second-level" id="entitiesNav">
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </section>

                    <div class="search_tabs_container">
                        <div class="search_tabs d-flex flex-lg-row flex-column align-items-lg-center align-items-start justify-content-lg-between justify-content-start">
                            <div class="search_tab active d-flex flex-row align-items-center justify-content-lg-center justify-content-start"><img src="images/suitcase.png" alt=""><span>Vol</span></div>
                            <div class="search_tab d-flex flex-row align-items-center justify-content-lg-center justify-content-start"><img src="images/bus.png" alt="">Mes vols</div>

                        </div>
                    </div>









                    </div>







                </div>
            </div>
        </div>






{% endblock %}




{% block body %}


  <!--  table vol -->


    <!doctype html>
    <html lang="en">
    <head>
        <title>Table 03</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <link href='https://fonts.googleapis.com/css?family=Roboto:400,100,300,700' rel='stylesheet' type='text/css'>

        <link rel="stylesheet" href="{{ asset('https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css') }}">

        <link rel="stylesheet" href="{{ asset('tableau/css/style.css') }}">

    </head>
    <body>
    <section class="ftco-section">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-6 text-center mb-5">
                    <h2 class="heading-section">Liste Des Vols</h2>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">

                    <div class="table-wrap">
                        <table class="table">
                            <thead class="thead-primary">
                            <tr>

                                <td >Type</td>
                                <td >Date_Depart</td>
                                <td >Date_Arrive</td>
                                <td >Duree</td>
                                <td >Place</td>
                                <td >Destination</td>


                            </tr>
                            </thead>
                            <tbody id="all">
                            {% for Vol in Vols %}
                                <tr>

                                    <td>


                                        <h3  class="heading"><a href="{{ path('show_billet',{'id': Vol.id}) }}">{{ Vol.type }}</a></h3>

                                    </td>
                                    <td >

                                        {{ Vol.depart |date('d-m-Y H:i') }}

                                    </td>
                                    <td>

                                        {{ Vol.arrive |date('d-m-Y H:i') }}

                                    </td>
                                    <td>

                                        {{ Vol.duree }}

                                    </td>
                                    <td>

                                        {{ Vol.place }}

                                    </td>
                                    <td>

                                        {{ Vol.destination }}

                                    </td>








                                    </td>

                                </tr>
                            {% endfor %}

                            </tbody>
                        </table>
                        <div class="navigation">
                            {{ knp_pagination_render(Vols) }}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="{{ asset('tableau/js/jquery.min.js')}}"></script>
    <script src="{{ asset('tableau/js/popper.js') }}"></script>
    <script src="{{ asset('tableau/js/bootstrap.min.js') }}"></script>
    <script src="{{ asset('tableau/js/main.js') }}"></script>

    </body>
    </html>





    <!-- / table  vol -->


    <!-- jQuery is necessary -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script type="text/javascript">




        jQuery(document).ready(function() {
            var searchRequest = null;
            $("#search").keyup(function() {
                var minlength = 3;
                var that = this;
                var value = $(this).val(); // elyyktbo fi input 7atito fi var var
                var entitySelector = $("#entitiesNav").html('');
                if (value.length >= minlength ) {
                    if (searchRequest != null)
                        searchRequest.abort();
                    searchRequest = $.ajax({
                        type: "GET",
                        url: "{{ path('ajax_search') }}",
                        data: {
                            'q' : value
                        },
                        dataType: "text",
                        success: function(msg){
                            //we need to check if the value is the same
                            if (value==$(that).val()) {
                                var result = JSON.parse(msg);
                                $.each(result, function(key, arr) {
                                    $.each(arr, function(id, value) {

                                        if (key == 'vols') {

                                            if (id != 'error') {

                                                x= document.getElementById("containerr");


                                                entitySelector.append('<div style="display: table;width:100%;padding: 15px">  <span style="class="heading">Type  :'+value[0]+'</span><br/><span style="text-align: center">Destination :'+value[1]+'</span><br/><span style="text-align: center">Nombre De Place Disponible  :'+value[2]+'</span><br/><a href="/detailfront/'+id+'"><i class="fa fa-list" style="color:bleu;font-size:50px"></i> </a> </div>');


                                            } else {
                                                entitySelector.append('<li class="errorLi">'+value+'</li>');
                                            }
                                        }
                                        {# <h3  class="heading"><a href="{{ path('show_billet',{'id': Vol.id}) }}">{{ Vol.type }}</a></h3> #}
                                    });
                                });
                            }
                        }
                    });
                }
            });
        });
    </script>

   {#<script>
        $(document).ready(function(){
            $(".btn1").click(function(){
                $("h1").slideUp();
            });
            $(".btn2").click(function(){
                $("h1").slideDown();
            });
            $(".btn3").click(function(){
                $("h1").slideToggle();
            });
        });
    </script> #}








{% endblock  %}